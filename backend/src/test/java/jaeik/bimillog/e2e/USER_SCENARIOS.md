# 비밀로그 사용자 시나리오 가이드 (E2E 테스트)

## 📍 사용자 여정별 상세 시나리오

### 1. 🏠 메인 페이지 (/)
**비로그인 사용자**
- 서비스 소개 확인 (Hero 섹션)
- 주요 기능 3가지 확인 (롤링페이퍼, 익명 메시지, 커뮤니티)
- "시작하기" 버튼 클릭 → 로그인 페이지 이동
- "게시판" 버튼 클릭 → 게시판 목록 조회 (읽기 전용)
- 네비게이션 바에서 메뉴 확인 (로그인, 게시판, 건의하기, 롤링페이퍼 방문)
- 하단 Footer 링크 확인 (이용약관, 개인정보처리방침)
- PWA 설치 프롬프트 표시 여부 확인

**로그인 사용자**
- 개인화된 환영 메시지 확인
- 네비게이션 바 추가 메뉴 확인 (마이페이지, 내 롤링페이퍼, 설정)
- 알림 벨 아이콘 표시 및 알림 개수 확인
- 퀵 액션 버튼들 활성화 (글쓰기, 롤링페이퍼 보기 등)

### 2. 🔐 인증 관련 페이지 (/login, /signup, /callback)

#### 로그인 페이지 (/login)
- 카카오 로그인 버튼 클릭
- 카카오 OAuth 인증 진행
- 로그인 실패 시 에러 메시지 확인
- "회원가입" 링크 클릭 → 회원가입 페이지 이동
- 뒤로가기 버튼 클릭 → 이전 페이지 이동

#### 회원가입 페이지 (/signup)
- 카카오 인증 후 첫 방문 시 자동 리다이렉트
- 닉네임 입력 필드
  - 2-20자 한글/영문/숫자 제한
  - 실시간 중복 체크
  - 유효성 검사 에러 메시지
- 이용약관 체크박스 (필수)
- 개인정보처리방침 체크박스 (필수)
- "가입하기" 버튼 클릭
- 가입 완료 후 메인 페이지 리다이렉트

#### 콜백 페이지 (/callback)
- 카카오 OAuth 리다이렉트 처리
- 로딩 스피너 표시
- 인증 성공/실패에 따른 리다이렉트

### 3. 💌 롤링페이퍼 기능

#### 내 롤링페이퍼 페이지 (/rolling-paper)
**로그인 필수**
- 받은 메시지 그리드 표시 (PC: 6x10, 모바일: 4x10)
- 빈 칸 클릭 시 "메시지가 없습니다" 표시
- 메시지 있는 칸 클릭 시:
  - 메시지 상세 모달 표시
  - 작성자 이름 (익명 가능)
  - 메시지 내용
  - 작성 시간
  - 삭제 버튼 (비밀번호 입력 필요)
- 공유 버튼 클릭:
  - URL 복사
  - 카카오톡 공유
  - 다른 SNS 공유
- 전체 메시지 목록 보기 버튼
- 페이지네이션 (이전/다음 페이지)
- 통계 섹션:
  - 총 받은 메시지 수
  - 오늘 받은 메시지 수
  - 최근 방문자 수

#### 특정 사용자 롤링페이퍼 페이지 (/rolling-paper/[nickname])
**모든 사용자 접근 가능**
- 사용자 존재 여부 확인
  - 없으면 404 에러 페이지
- 메시지 그리드 표시
- 빈 칸 클릭 시:
  - 메시지 작성 모달 표시
  - 작성자 이름 입력 (선택, 기본: 익명)
  - 메시지 내용 입력 (필수, 최대 500자)
  - 비밀번호 입력 (선택, 삭제 시 필요)
  - "작성하기" 버튼
- 메시지 있는 칸:
  - 호버 시 미리보기
  - 클릭 시 상세 보기 (작성자만 삭제 가능)
- 최근 메시지 섹션 (하단)
- 방문 기록 저장 (로컬스토리지)

#### 롤링페이퍼 방문 페이지 (/visit)
- 검색 바:
  - 닉네임으로 검색
  - 실시간 자동완성
  - 검색 결과 없을 때 메시지
- 최근 방문한 롤링페이퍼 목록 (최대 5개)
  - 썸네일 이미지
  - 사용자 닉네임
  - 마지막 방문 시간
  - 클릭 시 해당 롤링페이퍼로 이동
- 인기 롤링페이퍼 목록
- 방문 기록 삭제 버튼

### 4. 📝 게시판 기능

#### 게시판 목록 페이지 (/board)
**모든 사용자 조회 가능**
- 탭 네비게이션:
  - 전체
  - 인기글
  - 공지사항
- 게시글 목록:
  - 제목
  - 작성자
  - 작성 시간
  - 조회수
  - 좋아요 수
  - 댓글 수
- 게시글 클릭 → 상세 페이지 이동
- 검색 기능:
  - 제목+내용 통합 검색
  - 전문 검색 (MySQL ngram)
  - 검색어 하이라이팅
- 페이지네이션 (1-10 표시, 이전/다음)
- "글쓰기" 플로팅 버튼 (로그인 필요)
- 정렬 옵션:
  - 최신순
  - 인기순
  - 댓글순

#### 게시글 상세 페이지 (/board/post/[id])
**모든 사용자 조회 가능**
- 게시글 헤더:
  - 제목
  - 작성자 (프로필 이미지 포함)
  - 작성/수정 시간
  - 조회수
- 게시글 본문:
  - Rich Text 내용 (Quill 에디터 렌더링)
  - 이미지 확대 보기
- 액션 버튼:
  - 좋아요 토글 (로그인 필요)
  - 신고하기 (로그인 필요)
  - 공유하기
  - 수정 (작성자만)
  - 삭제 (작성자만, 확인 다이얼로그)
- 댓글 섹션:
  - 댓글 목록 (계층형)
  - 댓글 작성 폼 (로그인 필요)
  - 대댓글 작성
  - 댓글 좋아요
  - 댓글 신고
  - 댓글 수정/삭제 (작성자만)
- 하단 네비게이션:
  - 이전글/다음글 버튼
  - 목록으로 버튼

#### 게시글 작성 페이지 (/board/write)
**로그인 필수**
- 제목 입력 (필수, 최대 100자)
- 내용 작성:
  - Quill 에디터
  - 이미지 업로드
  - 텍스트 포맷팅 (볼드, 이탤릭, 리스트 등)
- 미리보기 토글
- "작성하기" 버튼
- "취소" 버튼 (확인 다이얼로그)
- 임시저장 기능 (로컬스토리지)

#### 게시글 수정 페이지 (/board/post/[id]/edit)
**작성자만 접근 가능**
- 기존 내용 불러오기
- 제목/내용 수정
- "수정하기" 버튼
- "취소" 버튼
- 수정 시간 자동 업데이트

### 5. 👤 사용자 관련 페이지

#### 마이페이지 (/mypage)
**로그인 필수**
- 프로필 섹션:
  - 프로필 이미지
  - 닉네임
  - 가입일
  - 한 줄 소개
- 활동 통계:
  - 작성한 게시글 수
  - 작성한 댓글 수
  - 받은 좋아요 수
  - 받은 롤링페이퍼 메시지 수
- 탭 콘텐츠:
  - 내가 쓴 글 목록
  - 내가 쓴 댓글 목록
  - 좋아요한 글 목록
- 각 항목 클릭 시 해당 게시글로 이동

#### 설정 페이지 (/settings)
**로그인 필수**
- 계정 설정:
  - 닉네임 변경
  - 한 줄 소개 수정
- 알림 설정:
  - 댓글 알림 ON/OFF
  - 좋아요 알림 ON/OFF
  - 롤링페이퍼 메시지 알림 ON/OFF
  - 공지사항 알림 ON/OFF
- 개인정보 설정:
  - 프로필 공개/비공개
  - 활동 내역 공개/비공개
- 테마 설정:
  - 다크모드 토글
- 기타:
  - 버전 정보
  - 오픈소스 라이선스
  - 로그아웃 버튼
  - 회원 탈퇴 (확인 절차 필요)

### 6. 🛡️ 관리자 페이지 (/admin)
**관리자 권한 필수**
- 대시보드:
  - 오늘 가입자 수
  - 총 사용자 수
  - 오늘 게시글 수
  - 총 게시글 수
  - 활성 사용자 수 (실시간)
- 신고 관리 탭:
  - 신고 목록 테이블
  - 필터링 (유형, 상태, 날짜)
  - 신고 상세 보기
  - 처리 상태 변경 (대기중/처리중/완료/반려)
  - 처리 사유 입력
  - 신고 대상 콘텐츠 숨김/삭제
- 사용자 관리 탭:
  - 사용자 검색 (닉네임, 이메일)
  - 사용자 상세 정보
  - 계정 정지/해제
  - 강제 로그아웃
- 공지사항 관리:
  - 공지사항 작성
  - 공지사항 수정/삭제
  - 상단 고정 설정

### 7. 💬 건의하기 페이지 (/suggest)
**모든 사용자 접근 가능**
- 건의 유형 선택:
  - 버그 신고
  - 기능 제안
  - 개선 요청
  - 기타
- 제목 입력 (필수)
- 내용 작성 (필수, 최소 10자)
- 이메일 입력 (선택, 답변 받기용)
- 파일 첨부 (선택, 스크린샷 등)
- "제출하기" 버튼
- 제출 완료 메시지

### 8. 📱 PWA 설치 페이지 (/install)
- PWA 설치 가능 여부 체크
- 설치 가이드:
  - iOS Safari 설치 방법
  - Android Chrome 설치 방법
  - Desktop 설치 방법
- "설치하기" 버튼 (설치 프롬프트 트리거)
- 설치 완료 후 메시지

### 9. 🔔 알림 기능 (전역)
**로그인 사용자**
- 네비게이션 바 알림 벨:
  - 읽지 않은 알림 개수 배지
  - 클릭 시 알림 드롭다운
- 알림 유형:
  - 댓글 알림
  - 좋아요 알림
  - 롤링페이퍼 메시지 알림
  - 신고 처리 결과 알림
  - 시스템 공지
- 알림 항목 클릭:
  - 해당 콘텐츠로 이동
  - 자동 읽음 처리
- 전체 읽음 처리 버튼
- 알림 설정 바로가기

### 10. 🚫 에러 페이지

#### 404 Not Found
- 존재하지 않는 페이지 접근 시
- "홈으로 가기" 버튼
- "이전 페이지로" 버튼

#### 403 Forbidden
- 권한 없는 페이지 접근 시
- "로그인하기" 버튼 (비로그인 시)
- "홈으로 가기" 버튼

#### 500 Server Error
- 서버 오류 발생 시
- "새로고침" 버튼
- "홈으로 가기" 버튼

## 🎯 주요 사용자 플로우

### 신규 사용자 온보딩
1. 메인 페이지 방문
2. "시작하기" 클릭
3. 카카오 로그인
4. 닉네임 설정
5. 약관 동의
6. 가입 완료
7. 롤링페이퍼 첫 메시지 받기 유도

### 롤링페이퍼 작성 플로우
1. 롤링페이퍼 방문 페이지
2. 닉네임 검색
3. 대상 롤링페이퍼 접근
4. 빈 칸 클릭
5. 메시지 작성
6. 작성 완료
7. 공유하기 (선택)

### 게시글 작성 플로우
1. 게시판 페이지
2. "글쓰기" 버튼 클릭
3. 로그인 체크
4. 제목/내용 작성
5. 미리보기 확인
6. 게시하기
7. 게시글 상세 페이지로 이동

### 신고 처리 플로우
1. 콘텐츠에서 신고 버튼 클릭
2. 신고 유형 선택
3. 신고 사유 작성
4. 신고 제출
5. 관리자 검토 (관리자 페이지)
6. 처리 결과 알림

## 📋 테스트 시 주의사항

### 인증 상태별 접근 권한
- **비로그인**: 읽기 전용 (게시판 조회, 롤링페이퍼 조회)
- **로그인**: 전체 기능 (글쓰기, 댓글, 좋아요, 롤링페이퍼 작성)
- **관리자**: 관리 기능 추가

### 반응형 디자인 체크포인트
- **모바일** (320px~767px): 햄버거 메뉴, 단일 컬럼
- **태블릿** (768px~1023px): 사이드바, 2컬럼
- **데스크톱** (1024px~): 풀 네비게이션, 멀티 컬럼

### 실시간 기능
- SSE 알림 구독
- 실시간 알림 수신
- 자동 재연결

### 캐싱 전략
- 인기 게시글: 5분 캐시
- 사용자 정보: 세션 유지
- 롤링페이퍼: 실시간 업데이트

### 에러 처리
- API 실패 시 토스트 메시지
- 네트워크 오류 시 재시도
- 폼 유효성 검사 실시간 피드백

## 🔄 상태 변화 시나리오

### 로그인/로그아웃
- 네비게이션 메뉴 변경
- 접근 권한 변경
- 알림 구독 시작/종료
- 로컬 스토리지 정리

### 다크모드 전환
- 전체 UI 테마 변경
- 로컬 스토리지 저장
- 새로고침 후 유지

### 언어 변경 (향후)
- UI 텍스트 변경
- 날짜 포맷 변경
- 검증 메시지 변경

### PWA 설치
- 설치 프롬프트 숨김
- 앱 모드 UI 변경
- 푸시 알림 활성화