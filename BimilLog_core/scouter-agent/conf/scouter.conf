# Scouter Agent Configuration
# BimilLog Backend 모니터링 설정

# ============================================================
# Collector 서버 연결 정보 net_collector_ip는 깃허브 액션에서 주입
# ============================================================
net_collector_ip=127.0.0.1
net_collector_udp_port=6100
net_collector_tcp_port=6100

# ============================================================
# 객체 식별 정보
# ============================================================
obj_name=bimillog-backend
obj_type=spring-boot

# ============================================================
# 프로파일링 설정
# ============================================================
# Spring Controller 메소드 추적
profile_spring_controller_method_enabled=true
profile_spring_controller_method_parameter_enabled=true

# HTTP 요청 정보 수집
profile_http_querystring_enabled=true
profile_http_header_enabled=true
profile_http_header_keys=User-Agent,Referer

# SQL 프로파일링
profile_sql_escape_enabled=true
profile_sql_parameter_enabled=true

# ============================================================
# 성능 임계값 설정
# ============================================================

# 메소드 프로파일링 임계값 (ms)
profile_method_time=100

# SQL 실행시간 임계값 (ms)
profile_sql_time=100

# ============================================================
# 샘플링 설정 (부하 감소)
# ============================================================

xlog_sampling_enabled=true
xlog_sampling_step1_ms=100
xlog_sampling_step1_rate_pct=10

xlog_sampling_error_enabled=false

# ============================================================
# 추가 설정
# ============================================================
# 네트워크 연결 타임아웃 (ms)
net_collector_tcp_so_timeout_ms=60000
net_collector_udp_so_timeout_ms=60000

# 외부 API 호출(RestTemplate, FeignClient 등) 추적
profile_httpc_call_enabled=true

# Redis를 사용한다면 Redis 호출 추적
profile_redis_enabled=true

# 서비스가 실행 중인 서버의 호스트명을 자동으로 붙여줌
obj_name_auto_index_enabled=true

# 로그 레벨 (TRACE, DEBUG, INFO, WARN, ERROR)
log_level=INFO
